<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title></title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
          <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
          <style>
          #result {
           position: absolute;
           width: 100%;
           max-width:870px;
           cursor: pointer;
           overflow-y: auto;
           max-height: 400px;
           box-sizing: border-box;
           z-index: 1001;
          }
          .link-class:hover{
           background-color:#f1f1f1;
          }
          </style>
         </head>
         <body>
          <br /><br />
          <div class="container" style="width:900px;">
           <h2 align="center">Lakeshore Market Place</h2>
           <h3 align="center"></h3>
           <br /><br />
           <div align="center">
            <input type="text" name="search" id="search" placeholder="Search Book" class="form-control" />
           </div>
           <ul class="list-group" id="result"></ul>
           <br />
          </div>
         </body>
        </html>

        <script>
        $(document).ready(function(){
            var searchButton = document.getElementById("searchButton").addEventListener("click", initiateAjaxRequest);
        // var searchValue = $('#search').val();
        console.log(bookResourceURI);
        function initiateAjaxRequest(){
            var bookResourceURI= "http://localhost:8081/book/" + $('#search').val();;

        }
         $.ajaxSetup({ cache: false });
         $('#search').keyup(function(){
          $('#result').html('');
          $('#state').val('');
          var searchField = $('#search').val();
          var expression = new RegExp(searchField, "i");
         $.getJSON(bookResourceURI, function (book) {
           $.each(book, function(key, value){
            if (value.productName.search(expression) != -1 || value.author.search(expression) != -1)
            {
             $('#result').append('<li class="list-group-item link-class">'+value.productName+' | <span class="text-muted">'+value.author+'</span></li>');
            }
           });
          });
         });

         $('#result').on('click', 'li', function() {
          var click_text = $(this).text().split('|');
          $('#search').val($.trim(click_text[0]));
          $("#result").html('');
         });
        });
        </script>

    </body>
</html>
